<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>People - The BRAIN group</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Satoshi Font from CDN -->
    <link href="https://fonts.cdnfonts.com/css/satoshi" rel="stylesheet">
    
    <!-- Plantin Font from CDN -->
    <link href="https://fonts.cdnfonts.com/css/plantin-mt-pro" rel="stylesheet">

    <!-- Font Awesome for social media icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body {
            font-family: 'Satoshi', sans-serif;
            background-color: #FFFFFF;
            color: #1a202c;
        }
        h1, h2, h3, h4, h5, h6, .font-plantin {
            font-family: 'Plantin MT Pro', serif;
        }
        .text-harvard-crimson { color: #AA8F3D; }
        header {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }
        header .title-font { font-family: 'Plantin MT Pro', serif; }
        header nav a {
            position: relative;
            transition: color 0.3s ease;
            text-transform: capitalize;
            font-family: 'Plantin MT Pro', serif;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        header nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background-color: #1a202c;
            transition: width 0.3s ease-out;
        }
        header nav a:hover::before { width: 50%; }
        #mobile-menu a:hover {
            color: #1a202c;
            background-color: transparent;
        }
        .menu-active { background-color: #A41034; }
        .group-member {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: #f9fafb;
            border-radius: 0.5rem;
            border-left: 4px solid #A41034;
        }
        .current-member {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .photo-placeholder {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
        }
        .member-name { font-weight: 600; color: #A41034; }
        .social-links { display: inline-flex; gap: 0.4rem; margin-left: 0.5rem; }
        .social-link { opacity: 0.8; transition: 0.2s; }
        .social-link:hover { opacity: 1; transform: scale(1.15); }
        .main-content { padding-top: 100px; }
    </style>
</head>
<body>

<header class="fixed top-0 left-0 right-0 z-50">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
        <div class="text-lg title-font">
            <a href="index.html"><span class="text-harvard-crimson">BRAIN</span> Group</a>
        </div>
        <nav class="hidden md:flex space-x-8 text-gray-500">
            <a href="projects.html">Projects</a>
            <a href="people.html" class="text-harvard-crimson">People</a>
            <a href="https://brainpf.github.io/brain-group/" target="_blank">Github</a>
            <a href="contact.html">Contact</a>
        </nav>
        <div class="md:hidden">
            <button id="menu-btn">
                <svg id="icon-open" class="h-6 w-6 block" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
                <svg id="icon-close" class="h-6 w-6 hidden" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
        </div>
    </div>
    <div id="mobile-menu" class="hidden md:hidden px-2 pt-2 pb-3">
        <a href="research.html" class="block px-3 py-2">Research</a>
        <a href="people.html" class="block px-3 py-2 menu-active text-white">People</a>
        <a href="https://brainpf.github.io/brain-group/" target="_blank" class="block px-3 py-2">Github</a>
        <a href="contact.html" class="block px-3 py-2">Contact</a>
    </div>
</header>

<div class="main-content">
    <div class="container mx-auto max-w-6xl px-6 py-8">
        <div class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl text-harvard-crimson">People</h1>
        </div>

        <section id="principal-investigator">
            <h2 class="text-3xl mb-8">Group Leader</h2>
            <div id="principal-investigator-container" class="space-y-6"></div>
        </section>

        <section id="members">
            <h2 class="text-3xl mb-8">Members</h2>
            <div id="members-container" class="space-y-6"></div>
        </section>

        <section id="external-collaborators">
            <h2 class="text-3xl mb-8">External Collaborators</h2>
            <div id="external-collaborators-container" class="space-y-6"></div>
        </section>

        <div class="text-center mt-16">
            <div class="bg-gray-50 p-8 rounded-lg max-w-4xl mx-auto">
                <h3 class="text-2xl mb-4 text-harvard-crimson">Join Our Group</h3>
                <p class="text-gray-700 text-lg">
                    Interested in joining our research group and making real impact in public security?
                </p>
                <p class="text-gray-600 mt-4">
                    Please see our <a href="contact.html" class="text-harvard-crimson">contact page</a>.
                </p>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('menu-btn').onclick = () => {
        document.getElementById('mobile-menu').classList.toggle('hidden');
        icon-open.classList.toggle('hidden');
        icon-close.classList.toggle('hidden');
    };
    loadPeopleData();
});

function createSocialLinks(person) {
    const box = document.createElement('span');
    box.className = 'social-links';
    const add = (field, icon) => {
        if (person[field]) {
            const a = document.createElement('a');
            a.href = person[field];
            a.target = '_blank';
            a.className = 'social-link';
            a.innerHTML = icon;
            box.appendChild(a);
        }
    };
    add("website", '<i class="fas fa-globe"></i>');
    add("google_scholar", '<i class="fas fa-graduation-cap"></i>');
    add("linkedin", '<i class="fab fa-linkedin-in"></i>');
    return box.children.length ? box : null;
}

function renderPrincipalInvestigator(person) {
    document.getElementById('principal-investigator-container')
        .appendChild(createCurrentMemberElement(person));
}

function createCurrentMemberElement(person) {
    const div = document.createElement('div');
    div.className = 'group-member current-member';

    const photo = document.createElement('div');
    photo.className = 'photo-placeholder';
    photo.textContent = 'Photo';

    const info = document.createElement('div');
    info.className = 'member-info';

    const name = document.createElement('div');
    name.className = 'member-name';
    name.textContent = person.name;

    const links = createSocialLinks(person);
    if (links) name.appendChild(links);

    const role = document.createElement('div');
    role.className = 'member-role';
    role.textContent = person.role;

    info.appendChild(name);
    info.appendChild(role);

    div.appendChild(photo);
    div.appendChild(info);

    return div;
}

async function loadPeopleData() {
    try {
        const data = await (await fetch('people.json')).json();

        if (data.principal_investigator)
            renderPrincipalInvestigator(data.principal_investigator);

        data.current.forEach(p =>
            document.getElementById('current-members-container')
                .appendChild(createCurrentMemberElement(p))
        );

    } catch (err) {
        console.error(err);
        document.getElementById('current-members-container').innerHTML =
            '<p class="text-red-500">Error loading data.</p>';
    }
}
</script>

</body>
</html>
